// ****************************************************************************
// Generated by Trengen. Do not modify
// **************************************************************************** 

//header
#include "TrentinoGenContributionInfo.h"

#include "TrentinoGenProxiesWrappers.h"


using namespace Trentino::Gen;

namespace
{
	<#assign numberPlusOne=context.numberOfHelpers+1>
	//Array has one value more than needed (Quickfix for arrays with length zero),
	// the last item in the array is not used.
	BindingHelperFactory* bindingHelperFactories [${numberPlusOne}];
	int index =0;
	   struct Cleaner
      {
      ~Cleaner(){
         for(int i=0; i < ${context.numberOfHelpers} ; i++){
            BindingHelperFactory* factory = bindingHelperFactories[i];
            if(factory!=nullptr){
               delete factory;
               }
            }
          }
       } cleanLatter;
  

   Trentino::Reflection::DataRegistry gRegistry;    
       
}

extern "C" TRENTINO_DLLEXPORT Trentino::Core::TrentinoContributionInfo* TRENTINO_CDECL getContributionInfo()
{
 return new Trentino::Gen::${contributionName}ContributionInfo();
}


//constructor and destructor implementation
CONTRIBUTIONINFO_CPP_CDTOR(${contributionName});
    
TRENTINO_DLLEXPORT  Trentino::Binding::BindingHelperBase* TRENTINO_CDECL ${contributionName}ContributionInfo::getBindingHelperByBindingIdAndClassName( const std::string& bindingId,const std::string& className )
 {
 for(int i=0; i < ${context.numberOfHelpers} ; i++){
    BindingHelperFactory* factory = bindingHelperFactories[i];
    if(factory == nullptr){
    continue;
    }
    if(factory->mBindingId == bindingId && factory->mClassName == className)
       {
       return factory->getBindingHelper();
       }
    }
  return nullptr;
 } 
 
  TRENTINO_DLLEXPORT  const char* TRENTINO_CDECL ${contributionName}ContributionInfo::getAllDeclaredBindings() const
 {
    return "${context.bindings}";
 }
 
 
 void GenContributionInfo::registerBindingFactoryHelper(BindingHelperFactory* factory)
 {
     bindingHelperFactories[index++]=factory;
 }
 
 TRENTINO_DLLEXPORT Trentino::Reflection::DataRegistry& TRENTINO_CDECL GenContributionInfo::dataRegistry() const
 {
     return gRegistry;
 }
 
 Trentino::Reflection::DataRegistry& TRENTINO_CDECL GenContributionInfo::getDataRegistry()
 {
  return gRegistry;
 }